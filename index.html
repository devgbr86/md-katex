<!DOCTYPE html>
<html lang="pt-BR">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Mini Aula de Matemática</title>

     <!-- Marked.js -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>

     <!-- KaTeX CSS -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">

     <style>
          body {
               font-family: sans-serif;
               margin: 1rem;
               background: #fafafa;
               color: #222;
               line-height: 1.6;
          }

          h2 {
               margin-bottom: 1rem;
               font-size: 2rem;
               text-align: center;
          }

          textarea {
               width: 100%;
               min-height: 250px;
               font-family: monospace;
               font-size: 16px;
               padding: 0.75rem;
               margin-bottom: 1rem;
               border: 1px solid #ccc;
               border-radius: 6px;
               resize: vertical;
               box-sizing: border-box;
          }

          button {
               padding: 0.6rem 1.2rem;
               cursor: pointer;
               background: #0078d4;
               color: white;
               border: none;
               border-radius: 6px;
               font-size: 16px;
               margin-right: 0.5rem;
               transition: background 0.3s;
          }

          button:hover {
               background: #005a9e;
          }

          #rendered-content {
               border: 1px solid #ccc;
               padding: 1rem;
               min-height: 300px;
               background: #fff;
               white-space: pre-wrap;
               font-size: 16px;
               border-radius: 6px;
               box-sizing: border-box;
          }

          /* Responsividade */
          @media (max-width: 768px) {
               h2 {
                    font-size: 1.5rem;
               }

               textarea {
                    font-size: 14px;
               }

               button {
                    font-size: 14px;
                    padding: 0.5rem 1rem;
                    margin-bottom: 0.5rem;
               }

               #rendered-content {
                    font-size: 14px;
                    min-height: 200px;
               }
          }

          /* Impressão */
          @media print {

               textarea,
               button {
                    display: none;
               }

               #rendered-content {
                    border: none;
                    background: white;
                    font-size: 16px;
               }
          }
     </style>
</head>

<body>
     <h2>Mini Aula de Matemática</h2>

     <textarea id="editor"># Aula 1: Equação do 1º grau

A forma geral é:

$$
ax + b = 0
$$

Exemplo:

$$
2x + 5 = 0
$$
</textarea>

     <div>
          <button onclick="renderAula()">Renderizar</button>
          <button onclick="exportPDF()">Exportar PDF</button>
     </div>

     <div id="rendered-content"><em>Renderize o conteúdo para ver aqui</em></div>

     <!-- KaTeX JS -->
     <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>

     <script>
          function renderAula() {
               const editor = document.getElementById("editor").value;
               const container = document.getElementById("rendered-content");

               // Converte Markdown para HTML
               const htmlContent = marked.parse(editor);

               container.innerHTML = htmlContent;

               // Renderiza fórmulas KaTeX
               renderMathInElement(container, {
                    delimiters: [
                         { left: "$$", right: "$$", display: true },
                         { left: "\\(", right: "\\)", display: false }
                    ]
               });
          }

          function exportPDF() {
               renderAula();
               window.print();
          }
     </script>
</body>

</html>